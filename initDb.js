var PlayerModel = require('models/player/player')
    , mongoose = require("mongoose")
    , async = require('async')
    , logger = require('libs/log')(module);

require("mongooseDb");
var ids = [ '7fb2d',
    'efa54',
    '02392',
    '8579f',
    'bce34',
    '13ecf',
    '70281',
    '89e73',
    'a0cbf',
    '3b078',
    '57a32',
    '956b3',
    'd7338',
    '71b6f',
    'c7670',
    'bbb70',
    'cf22d',
    '3e715',
    '9002c',
    '89548',
    '2be68',
    'd76bd',
    'eb411',
    'cfddc',
    '43a97',
    'b8e5f',
    'f52a8',
    'e40e4',
    '873a2',
    '0453a',
    '2efd8',
    '09fc5',
    '01cd3',
    '3806e',
    'f2744',
    'e2566',
    '2c54b',
    '36e32',
    '595e1',
    '397fa',
    '28ce6',
    '08ba0',
    'ee3e3',
    '27856',
    '9be67',
    '3419a',
    '8c9d2',
    'c726c',
    '16ca8',
    '6a553',
    '0d103',
    '7a3bb',
    '0bef8',
    'ded6a',
    'f6184',
    '29757',
    '2ca3d',
    '3d44f',
    'c331e',
    '2596b',
    '9de50',
    'aa2d7',
    'c9626',
    'c6d77',
    '4d849',
    'bb9ee',
    '1d6ce',
    '74ca0',
    '9c043',
    '459cf',
    '47244',
    'f94af',
    '5657f',
    '78219',
    '476f8',
    'd9cee',
    '0bb54',
    '0123d',
    '39d5d',
    '12944',
    '3053c',
    '541e9',
    'a21c2',
    '3ff20',
    '7506d',
    '469e1',
    '0938f',
    '1810d',
    'bfb3d',
    '94369',
    '40f6b',
    'ddc88',
    'd57d3',
    '566f2',
    '40937',
    '7f541',
    '2093c',
    '6f9b0',
    'a2a0b',
    'e102f',
    '98f82',
    '45e78',
    '021cb',
    '02362',
    '8f700',
    '658c9',
    '7b312',
    'c95b5',
    'c0eaf',
    '0b9d4',
    '45e87',
    '33f8e',
    'f15e8',
    '7103a',
    '955b9',
    '7d042',
    '99626',
    '3d76c',
    '82787',
    'e1fb7',
    '4e477',
    'e1fd7',
    'bde5e',
    'dd044',
    '678be',
    'b552b',
    '22d98',
    '06448',
    '4e79a',
    '0f312',
    'bfb17',
    '4b410',
    'af6e8',
    'd802e',
    'cd0fe',
    '168bf',
    '295f6',
    '9daab',
    '647ca',
    '8f1a6',
    'd0307',
    '796c8',
    '76a44',
    'c1bc4',
    'e5237',
    '4e7f8',
    'f6f84',
    '0e24a',
    '495da',
    '4974d',
    '066b4',
    'e06a2',
    'c5baf',
    '23e96',
    'f6485',
    'ea49e',
    '1e1b7',
    '4bc9a',
    '2fa35',
    '3cad4',
    '8a434',
    'd1ebc',
    '8597d',
    'baad0',
    '9feea',
    '9a6a5',
    '006e6',
    '05a2a',
    'ed8d7',
    '392eb',
    '70156',
    'f30bb',
    '5a150',
    '60142',
    '1b08c',
    'b682e',
    '68ae2',
    '9f718',
    'b35ce',
    '5c60b',
    '73322',
    '997e2',
    'd3c2a',
    'c134c',
    '9c380',
    '49edb',
    '44928',
    'dbafd',
    'afb0f',
    '84bb9',
    '0095d',
    'df66a',
    '19cc6',
    '1b0fd',
    '32ed7',
    '17141',
    'fc64f',
    '7983c',
    'b10d1',
    '13b7d',
    '1bafc',
    '43aad',
    'd4ecf',
    '8163c',
    '28ac1',
    '9d066',
    '0577b',
    '47971',
    '452b7',
    '5ce0c',
    '85e09',
    '9758a',
    'e2d7e',
    'eea2a',
    '26f8d',
    'e004c',
    'ca10b',
    'f6792',
    '26b98',
    '03c5c',
    'a7945',
    'c699b',
    '7dc13',
    'a9469',
    '2c753',
    '67127',
    'e2dc8',
    'cecb2',
    '50b54',
    'a3310',
    '6437c',
    '10ae9',
    'a06e3',
    '11bd5',
    'fd4c9',
    '1c61f',
    'e23c5',
    '8b776',
    'adaa0',
    'c3908',
    'd2f26',
    '5d86f',
    'cfd14',
    '0b407',
    '67ee8',
    'cc44b',
    '4711d',
    'd38d2',
    '53a7d',
    '3a041',
    '565c3',
    'dbecb',
    'ef8b8',
    '26f16',
    '6fe40',
    '708ce',
    '6688d',
    '6a2b3',
    '99d39',
    '55042',
    'c2c2a',
    '47e43',
    '87858',
    '6d1b5',
    '94a2f',
    '1bcc3',
    '86674',
    '2b4c0',
    '54b31',
    '15c53',
    '21ddd',
    '7d138',
    'eec61',
    '72519',
    'd7001',
    '383e8',
    '47d6f',
    'd8801',
    'a452b',
    'bc8af',
    'c1dc8',
    'f23b8',
    'ed920',
    '41e96',
    '52bc9',
    '88728',
    '47d64',
    'ad967',
    '7c577',
    '607ec',
    '9d852',
    '74eac',
    'b9ad7',
    '9880e',
    '8b220',
    '95e4c',
    'd84fb',
    '77f86',
    '3a237',
    '26a17' ];

PlayerModel.remove({}, function(err) {
    if( err ){
        logger.info("Cannot remove all Players from db");
        return false;
    }
    logger.info("All players was deleted");
    var methods = [];

    for( var i = 0;  i < ids.length; i++ ){
        (function(i){
            methods.push(function(callback){
                    var id = ids[i];
                    var player = new PlayerModel({identificator: id});
                    player.save(function(err){
                        if( err ) {
                            logger.error('Cannot save player with identificator: ' + id);
                            callback(null);
                            return false;
                        }
                        logger.info(id + ': ok');
                        callback(null);
                    })
                }
            )
        })(i)
    }

    async.parallel(methods, function(err){
        if( err ){
            logger.info("Cannot save all players");
            return false;
        }
        logger.info("All players were saved!");
    })
});

